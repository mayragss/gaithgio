<div class="page-container">
    <navbar></navbar>
    <p-toast />

    <div class="content md:pl-6 md:pr-6 md:pt-7 mb-8">
        <p class="mt-4 mb-3 uppercase cinzel center title">{{ 'products.title' | translate }}</p>

        <div class="products montserrat pt-3">
        <!-- Desktop Filter -->
        <div class="flex flex-row justift-content-between filter md:p-5 desktop">
            <div class="flex flex-row gap-3 md:pl-5">
                <p class="font-semibold">{{ 'products.filter' | translate }}</p>
                <p class="flex flex-row font-light cursor-pointer" (click)="toggleDisponibilidadeArrow()">{{ 'products.availability' | translate }}
                    <i [ngClass]="disponibilidadeArrowUp ? 'pi pi-angle-up' : 'pi pi-angle-down'" class="pt-1 pl-1"></i>
                </p>
                <p class="flex flex-row font-light cursor-pointer" (click)="togglePrecoArrow()">{{ 'products.price' | translate }}
                    <i [ngClass]="precoArrowUp ? 'pi pi-angle-up' : 'pi pi-angle-down'" class="pt-1 pl-1"></i>
                </p>
            </div>
            <div class="flex flex-row align-items-center gap-3 ml-auto">
                <p class="font-light">{{ 'products.sort' | translate }}</p>
                <p class="font-light flex flex-row cursor-pointer" (click)="toggleOrdenarArrow()">A-Z
                    <i [ngClass]="ordenarArrowUp ? 'pi pi-angle-up' : 'pi pi-angle-down'" class="pt-1 pl-1"></i>
                </p>
                <p class="font-light">8 {{ 'products.products' | translate }}</p>
            </div>
        </div>

        <!-- Mobile Filter -->
        <div class="mobile-filter mobile">
            <div class="flex flex-row justify-content-between align-items-center">
                <div class="flex flex-row gap-2">
                    <p class="font-semibold">{{ 'products.filter' | translate }}</p>
                    <p class="flex flex-row font-light cursor-pointer" (click)="toggleDisponibilidadeArrow()">{{ 'products.availability' | translate }}
                        <i [ngClass]="disponibilidadeArrowUp ? 'pi pi-angle-up' : 'pi pi-angle-down'" class="pt-1 pl-1"></i>
                    </p>
                    <p class="flex flex-row font-light cursor-pointer" (click)="togglePrecoArrow()">{{ 'products.price' | translate }}
                        <i [ngClass]="precoArrowUp ? 'pi pi-angle-up' : 'pi pi-angle-down'" class="pt-1 pl-1"></i>
                    </p>
                </div>
                <div class="flex flex-row align-items-center gap-2">
                    <p class="font-light">{{ 'products.sort' | translate }}</p>
                    <p class="font-light flex flex-row cursor-pointer" (click)="toggleOrdenarArrow()">A-Z
                        <i [ngClass]="ordenarArrowUp ? 'pi pi-angle-up' : 'pi pi-angle-down'" class="pt-1 pl-1"></i>
                    </p>
                    <p class="font-light">6 {{ 'products.products' | translate }}</p>
                </div>
            </div>
        </div>

        <!-- Desktop Products Grid -->
        <div class="flex pt-4 flex-row gap-8 justify-content-center pb-3 flex-wrap desktop">
            @for (product of products; track $index) {
            <div class="flex flex-column card">
                    <a class="no-underline" href="/product/detail/{{product.id}}">
                    <img src="{{ product.images | jsonArrayToString }}" />
                    <p class="center p-0 pt-2">{{product.name}}</p>
                    <p class="center p-0 pt-2 pt-2">€{{product.price}}</p>
                    </a>
                    <button class="mt-3 add-cart w-10 center" (click)="addToCart(product)">{{ 'products.addToCart' | translate }}</button>
            </div>
            }
        </div>

        <!-- Mobile Products Grid -->
        <div class="mobile-products-grid mobile">
            @for (product of products; track $index) {
            <div class="flex flex-column card mobile-product-card">
                <a class="no-underline" href="/product/detail/{{product.id}}">
                    <img src="{{ product.images | jsonArrayToString }}" />
                    <p class="center p-0 pt-2">{{product.name}}</p>
                    <p class="center p-0 pt-2 pt-2">€{{product.price}}</p>
                </a>
                <button class="mt-3 add-cart w-8 center" (click)="addToCart(product)">{{ 'products.addToCart' | translate }}</button>
            </div>
            }
        </div>
        </div>
    </div>

    <footer></footer>
</div>
