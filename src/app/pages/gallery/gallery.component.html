<div class="page-container">
<navbar></navbar>

<div class="content md:pl-3 md:pr-3 md:pt-7 mb-8">
    <p class="mt-4 mb-2 md:mb-5 uppercase cinzel center title">Galeria</p>


    <div class="products montserrat md:pt-3 center">
        <!-- Desktop Gallery -->
        <div class="flex pt-4 flex-row gap-5 justify-content-center pb-3 flex-wrap desktop">

            @for (item of allItems; track $index) {
            <div class="flex flex-column card" [class.video-card]="item.type === 'video'" (click)="item.type === 'video' ? openVideo(item.path) : null">
                @if (item.type === 'video') {
                    <div class="video-thumbnail">
                        @if (item.thumbnail) {
                            <img [src]="getThumbnailPath(item.thumbnail)" />
                        } @else {
                            <video [src]="getVideoPath(item.path)" muted></video>
                        }
                        <div class="play-overlay">
                            <i class="pi pi-play"></i>
                        </div>
                    </div>
                } @else {
                    <img src="/{{ item.path }}" />
                }
            </div>
            }

        </div>

        <!-- Mobile Gallery -->
        <div class="mobile-gallery mobile">
            @for (item of allItems; track $index) {
            <div class="mobile-gallery-item" [class.video-item]="item.type === 'video'" (click)="item.type === 'video' ? openVideo(item.path) : null">
                @if (item.type === 'video') {
                    <div class="video-thumbnail">
                        @if (item.thumbnail) {
                            <img [src]="getThumbnailPath(item.thumbnail)" />
                        } @else {
                            <video [src]="getVideoPath(item.path)" muted></video>
                        }
                        <div class="play-overlay">
                            <i class="pi pi-play"></i>
                        </div>
                    </div>
                } @else {
                    <img src="/{{ item.path }}" />
                }
            </div>
            }
        </div>
    </div>

</div>

<!-- Video Player Modal -->
@if (showVideoPlayer && selectedVideo) {
    <div class="video-modal" (click)="closeVideo()">
        <div class="video-modal-content" (click)="$event.stopPropagation()">
            <button class="close-video-btn" (click)="closeVideo()">âœ•</button>
            <video [src]="selectedVideo" controls autoplay class="video-player"></video>
        </div>
    </div>
}

<footer></footer>
</div>